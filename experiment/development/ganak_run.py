import re, os, sys
from subprocess import Popen, PIPE
from os.path import isfile, join
import time

ganak_res = ''' (b"c o CMS revision: 3b46c30d8068a370da5dce2dbcc956876238966f\nc o Arjun SHA revision: f767ed7320d72766c388a7e93445103bf74702c9\nc o Arjun SBVA SHA revision: 39a5070d980e658a0f3d37bcfb99ca78934c6ab6\nc o GANAK SHA revision 39db0c5220c917576b6c20e329b8b57eecdb6dd0\nc o GANAK compilation env CMAKE_CXX_COMPILER = /usr/local/bin/c++ | CMAKE_CXX_FLAGS =  -fno-stack-protector -mpopcnt -msse4.2 -mpclmul -Wlogical-op -Wrestrict -Wnull-dereference -Wdouble-promotion -Wshadow -Wformat=2 -Wextra-semi -pedantic | COMPILE_DEFINES =  | STATICCOMPILE = ON | Boost_FOUND = TRUE | ZLIB_FOUND = TRUE | ENABLE_ASSERTIONS = OFF | \nc o GANAK compiled with gcc version 14.1.0\nc o called with: /home/meij/ganak --maxcache=20000 --sbva=1 --tdminw=18 --sbvalitcut=6 --arjunoraclefindbins=4 --rdbclstarget=14000 /home/meij/test/test3.cnf\nc o internal precision will be: 53\nc o [clean] T: 0.00\nc o --> Executing strategy token: clean-cls\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 2.5\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o \x1b[0m[arjun-simp] probing all sampling variables\x1b[0m\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 2.5\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o \x1b[0m[arjun-simp] Removed set       : 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] Removed eq lits: 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] probe removed: 0 perc: 0.00 T: 0.00\x1b[0m\nc o \x1b[0m[arjun-simp] Removed eq lits: 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] Removed set       : 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] get-empties removed: 0 perc: 0.00 total empties now: 0 T: 0.00\x1b[0m\nc o \x1b[0m[arjun-simp] CMS::simplify() with no BVE, intree probe...\x1b[0m\nc o \x1b[0m[arjun-simp] CMS::simplify() with no BVE finished. T: 0.00\x1b[0m\nc o \x1b[0mWARNING: Turning off gates, because the sampling size is small, so we can just do it. Size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] Removed eq lits: 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] Removed set       : 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] get-empties removed: 0 perc: 0.00 total empties now: 0 T: 0.00\x1b[0m\nc o \x1b[0m[arjun-simp] probing all sampling variables\x1b[0m\nc o \x1b[0m[arjun-simp] Removed set       : 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] Removed eq lits: 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] probe removed: 0 perc: 0.00 T: 0.00\x1b[0m\nc o \x1b[0m[arjun-simp] Removed eq lits: 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] Removed set       : 0 new size: 3\x1b[0m\nc o \x1b[0m[arjun-simp] get-empties removed: 0 perc: 0.00 total empties now: 0 T: 0.00\x1b[0m\nc o \x1b[0m[arjun] simplification finished  removed: 0 perc: 0.00 T: 0.00\x1b[0m\nc o \x1b[0m[arjun] Duplicating CNF...\x1b[0m\nc o \x1b[0m[arjun] Duplicated CNF. T: 0.00\x1b[0m\nc o \x1b[0m[arjun] CMS::simplify() with *only* BVE...\x1b[0m\nc o \x1b[0m[arjun] CMS::simplify() with *only* BVE finished. T: 0.00\x1b[0m\nc o \x1b[0m[arjun] Adding fixed clauses time: 0.00\x1b[0m\nc o \x1b[0m[arjun] Start unknown size: 3\x1b[0m\nc o \x1b[0m\x1b[31m[arjun] backward round finished. U:  I: 3 T: 0.00\x1b[0m\nc o \x1b[0m[arjun] run_minimize_indep finished T: 0.00\x1b[0m\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o --> Executing strategy token: full-probe\nc o [full-probe]  bin_only: 0 set: 0 repl: 0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o --> Executing strategy token: sub-impl\nc o [impl-sub] bin: 0 T: 0.00 T-out: N w-visit: 6\nc o --> Executing strategy token: distill-cls-onlyrem\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o Executing OCC strategy token(s): 'occ-resolv-subs,occ-backw-sub,occ-rem-with-orgates,occ-bve,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-resolv-subs\nc o Executing OCC strategy token: occ-backw-sub\nc o Executing OCC strategy token: occ-rem-with-orgates\nc o [occ-gates] found:     0 avg-s: 0.0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-gate-based-lit-rem] lit-rem: 0 cl-rem: 0 T: 0.00 T-out: N\nc o Executing OCC strategy token: occ-bve\nc o [occ-empty-res] Empty resolvent elimed: 0 T: 0.00 T-out: N\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=0)\nc o Reduced to 3 vars, 2 cls (grow=0)\nc o x n vars       : 3\nc o #try to eliminate:     0\nc o #var-elim        :     0\nc o #T-o: N\nc o #T-r: 100.00%\nc o #T  : 0.00\nc o [occur] 0.00 is overhead\nc o [occur] link-in T: 0.00 cleanup T: 0.00\nc o [occ-xor-bve] elimed: 0 T: 0.00 T-out: N\nc o --> Executing strategy token: intree-probe\nc o [clean] T: 0.00\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o [intree] Set 0 vars hyper-added: 0 trans-irred: 0 trans-red: 0 T: 0.00 T-out: N T-r: 0.00%\nc o Executing OCC strategy token(s): 'occ-backw-sub-str,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-backw-sub-str\nc o [occ-backw-sub-str-long-w-bins] subs: 0 str: 0 tried: 2 0-depth ass: 0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-backw-sub-str-long-w-long] sub: 0 str: 0 tried: 0/0 (0.00)  T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-str-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o Executing OCC strategy token(s): 'occ-ternary-res,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-ternary-res\nc o --> Executing strategy token: clean-cls\nc o [clean] T: 0.00\nc o --> Executing strategy token: distill-cls\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: distill-bins\nc o [distill-bin] cls tried: 2/2\nc o [distill-bin] useful: 0/2/2 lits-rem: 0 cl-rem: 0 0-depth-assigns: 0 T: 0.00 T-out: N\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o --> Executing strategy token: full-probe\nc o [full-probe]  bin_only: 0 set: 0 repl: 0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o --> Executing strategy token: sub-impl\nc o [impl-sub] bin: 0 T: 0.00 T-out: N w-visit: 6\nc o --> Executing strategy token: distill-cls-onlyrem\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o Executing OCC strategy token(s): 'occ-resolv-subs,occ-backw-sub,occ-rem-with-orgates,occ-bve,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-resolv-subs\nc o Executing OCC strategy token: occ-backw-sub\nc o Executing OCC strategy token: occ-rem-with-orgates\nc o [occ-gates] found:     0 avg-s: 0.0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-gate-based-lit-rem] lit-rem: 0 cl-rem: 0 T: 0.00 T-out: N\nc o Executing OCC strategy token: occ-bve\nc o [occ-empty-res] Empty resolvent elimed: 0 T: 0.00 T-out: N\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=0)\nc o Reduced to 3 vars, 2 cls (grow=0)\nc o x n vars       : 3\nc o #try to eliminate:     0\nc o #var-elim        :     0\nc o #T-o: N\nc o #T-r: 100.00%\nc o #T  : 0.00\nc o [occur] 0.00 is overhead\nc o [occur] link-in T: 0.00 cleanup T: 0.00\nc o [occ-xor-bve] elimed: 0 T: 0.00 T-out: N\nc o --> Executing strategy token: intree-probe\nc o [clean] T: 0.00\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o [intree] Set 0 vars hyper-added: 0 trans-irred: 0 trans-red: 0 T: 0.00 T-out: N T-r: -0.00%\nc o Executing OCC strategy token(s): 'occ-backw-sub-str,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-backw-sub-str\nc o [occ-backw-sub-str-long-w-bins] subs: 0 str: 0 tried: 4 0-depth ass: 0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-backw-sub-str-long-w-long] sub: 0 str: 0 tried: 0/0 (0.00)  T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-str-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o Executing OCC strategy token(s): 'occ-ternary-res,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-ternary-res\nc o --> Executing strategy token: clean-cls\nc o [clean] T: 0.00\nc o --> Executing strategy token: distill-cls\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: distill-bins\nc o [distill-bin] cls tried: 2/2\nc o [distill-bin] useful: 0/2/2 lits-rem: 0 cl-rem: 0 0-depth-assigns: 0 T: 0.00 T-out: N\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o CadiBack BackBone Extractor\nc o Copyright (c) 2023 Armin Biere University of Freiburg\nc o Version 0.2.1 741e01681d90b5e6e8a4955de63a57d993d9e540\nc o CaDiCaL 2.0.0 fcb865786b524917aa9d3df8745aca66716794bf\nc o Compiled with 'g++ -fPIC -Wall -O3 -std=c++17 -DNDEBUG'\nc o not checking models and backbones (enable with '--check')\nc o found 3 variables\nc o\nc o starting solving after 0.01 seconds\nc o solver determined first model after 0.01 seconds\nc o\nc o\nc o --- [ backbone statistics ] ------------------------------------------------\nc o\nc o found                 0 backbones       0%\nc o dropped               3 candidates    100%\nc o\nc o filtered              0 candidates      0%\nc o flippable             3 candidates    100%\nc o flipped               0 candidates      0%\nc o fixed                 0 candidates      0%\nc o core                  0 candidates      0%\nc o found                 0 big_backbone   0%\nc o failed                0 candidates      0%\nc o\nc o called solver         1 times          25%\nc o satisfiable           1 times         100%\nc o unsatisfiable         0 times           0%\nc o\nc o --- [ backbone profiling ] -------------------------------------------------\nc o\nc o         0.00   0.35 % first\nc o         0.00   0.35 % sat\nc o         0.00   0.35 % satmax\nc o         0.00   0.35 % solving\nc o         0.00   0.04 % flip\nc o ====================================\nc o         0.00 100.00 % total\nc o\nc o\nc o\nc o exit 10\nc o [clean] T: 0.00\nc o --> Executing strategy token: oracle-vivif-sparsify\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o --> Executing strategy token: full-probe\nc o [full-probe]  bin_only: 0 set: 0 repl: 0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o --> Executing strategy token: sub-impl\nc o [impl-sub] bin: 0 T: 0.00 T-out: N w-visit: 6\nc o --> Executing strategy token: distill-cls-onlyrem\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o Executing OCC strategy token(s): 'occ-resolv-subs,occ-backw-sub,occ-rem-with-orgates,occ-bve,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-resolv-subs\nc o Executing OCC strategy token: occ-backw-sub\nc o Executing OCC strategy token: occ-rem-with-orgates\nc o [occ-gates] found:     0 avg-s: 0.0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-gate-based-lit-rem] lit-rem: 0 cl-rem: 0 T: 0.00 T-out: N\nc o Executing OCC strategy token: occ-bve\nc o [occ-empty-res] Empty resolvent elimed: 0 T: 0.00 T-out: N\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=0)\nc o Reduced to 3 vars, 2 cls (grow=0)\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=3)\nc o Reduced to 3 vars, 2 cls (grow=3)\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=4)\nc o Reduced to 3 vars, 2 cls (grow=4)\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=6)\nc o Reduced to 3 vars, 2 cls (grow=6)\nc o x n vars       : 3\nc o #try to eliminate:     0\nc o #var-elim        :     0\nc o #T-o: N\nc o #T-r: 100.00%\nc o #T  : 0.00\nc o [occur] 0.00 is overhead\nc o [occur] link-in T: 0.00 cleanup T: 0.00\nc o [occ-xor-bve] elimed: 0 T: 0.00 T-out: N\nc o --> Executing strategy token: intree-probe\nc o [clean] T: 0.00\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o [intree] Set 0 vars hyper-added: 0 trans-irred: 0 trans-red: 0 T: 0.00 T-out: N T-r: -0.00%\nc o Executing OCC strategy token(s): 'occ-backw-sub-str,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-backw-sub-str\nc o [occ-backw-sub-str-long-w-bins] subs: 0 str: 0 tried: 6 0-depth ass: 0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-backw-sub-str-long-w-long] sub: 0 str: 0 tried: 0/0 (0.00)  T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-str-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o Executing OCC strategy token(s): 'occ-ternary-res,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-ternary-res\nc o --> Executing strategy token: clean-cls\nc o [clean] T: 0.00\nc o --> Executing strategy token: distill-cls\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: distill-bins\nc o [distill-bin] cls tried: 2/2\nc o [distill-bin] useful: 0/2/2 lits-rem: 0 cl-rem: 0 0-depth-assigns: 0 T: 0.00 T-out: N\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o --> Executing strategy token: full-probe\nc o [full-probe]  bin_only: 0 set: 0 repl: 0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o --> Executing strategy token: sub-impl\nc o [impl-sub] bin: 0 T: 0.00 T-out: N w-visit: 6\nc o --> Executing strategy token: distill-cls-onlyrem\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o Executing OCC strategy token(s): 'occ-resolv-subs,occ-backw-sub,occ-rem-with-orgates,occ-bve,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-resolv-subs\nc o Executing OCC strategy token: occ-backw-sub\nc o Executing OCC strategy token: occ-rem-with-orgates\nc o [occ-gates] found:     0 avg-s: 0.0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-gate-based-lit-rem] lit-rem: 0 cl-rem: 0 T: 0.00 T-out: N\nc o Executing OCC strategy token: occ-bve\nc o [occ-empty-res] Empty resolvent elimed: 0 T: 0.00 T-out: N\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=0)\nc o Reduced to 3 vars, 2 cls (grow=0)\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=3)\nc o Reduced to 3 vars, 2 cls (grow=3)\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=4)\nc o Reduced to 3 vars, 2 cls (grow=4)\nc o x n vars       : 3\nc o size of added_cl_to_var    : 0\nc o size of removed_cl_with_var: 0\nc o x n vars       : 3\nc o another run ?\nc o [occ-bve] iter v-elim 0\nc o cl_inc_rate=1.0, var_dec_rate=1.0 (grow=6)\nc o Reduced to 3 vars, 2 cls (grow=6)\nc o x n vars       : 3\nc o #try to eliminate:     0\nc o #var-elim        :     0\nc o #T-o: N\nc o #T-r: 100.00%\nc o #T  : 0.00\nc o [occur] 0.00 is overhead\nc o [occur] link-in T: 0.00 cleanup T: 0.00\nc o [occ-xor-bve] elimed: 0 T: 0.00 T-out: N\nc o --> Executing strategy token: intree-probe\nc o [clean] T: 0.00\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o [intree] Set 0 vars hyper-added: 0 trans-irred: 0 trans-red: 0 T: 0.00 T-out: N T-r: -0.00%\nc o Executing OCC strategy token(s): 'occ-backw-sub-str,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-backw-sub-str\nc o [occ-backw-sub-str-long-w-bins] subs: 0 str: 0 tried: 8 0-depth ass: 0 T: 0.00 T-out: N T-r: 100.00%\nc o [occ-backw-sub-str-long-w-long] sub: 0 str: 0 tried: 0/0 (0.00)  T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: sub-str-cls-with-bin\nc o [clean] T: 0.00\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill-with-bin-ext] bin-based lit-rem: 0 cl-sub: 0\nc o [distill-with-bin-ext] T: 0.00 T-out: N T-r: 100.00%\nc o [distill] watch-based irred--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o [distill] watch-based   red--  cl tried        0 cl-sh     0 cl-rem    0 lit-rem      0 T: 0.00 T-out: N\nc o Executing OCC strategy token(s): 'occ-ternary-res,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-ternary-res\nc o --> Executing strategy token: clean-cls\nc o [clean] T: 0.00\nc o --> Executing strategy token: distill-cls\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o [distill-long-irred] cls tried: 0/0 T: 0.00 T-out: N T-r: 100.00%\nc o --> Executing strategy token: distill-bins\nc o [distill-bin] cls tried: 2/2\nc o [distill-bin] useful: 0/2/2 lits-rem: 0 cl-rem: 0 0-depth-assigns: 0 T: 0.00 T-out: N\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o --> Executing strategy token: oracle-vivif-fast\nc o --> Executing strategy token: oracle-sparsify-fast\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o --> Executing strategy token: must-scc-vrepl\nc o [scc] new: 0 BP 0M T: 0.00\nc o [clean] T: 0.00\nc o [vrep] vars 0 lits 0 rem-bin-cls 0 rem-long-cls 0 BP 0M T: 0.00\nc o --> Executing strategy token: must-renumber\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [renumber] T: 0.00\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o [empty] empty_occ: 0 T: 0.00\nc o [clean] T: 0.00\nc o Executing OCC strategy token(s): 'occ-bve-empty,\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [occ] mem usage for occur      0 MB\nc o [occ] Linked in IRRED BIN by default: 2\nc o [occ] Linked in RED   BIN by default: 0\nc o [occ] Not linked in 0/0 (0.00 %)\nc o [occ] mem usage for occur      0 MB\nc o [occ] Not linked in 0/0 (0.00 %)\nc o Mem for watch alloc    : 0           MB (0.00      %)\nc o Mem for watch array    : 0           MB (0.01      %)\nc o Executing OCC strategy token: occ-bve-empty\nc o [occ-empty-res] Empty resolvent elimed: 0 T: 0.00 T-out: N\nc o --> Executing strategy token: must-renumber\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [renumber] T: 0.00\nc o [consolidate] mini T: 0.00\nc o global_timeout_multiplier: 3.3000\nc o [branch] rebuilding order heap for all branchings. Current branching: vsid\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o [clean] T: 0.00\nc o \x1b[0m[arjun-sbva] entering SBVA with     vars: 3       cls:   2 opt sampl: 3\x1b[0m\nc o \x1b[0m[arjun-sbva] exited SBVA with       vars: 3       cls:   2\x1b[0m\nc o \x1b[0m[arjun-sbva] steps remainK: 999.95 T-out: No T: 0.00\x1b[0m\nc o Arjun T: 0.00\nc o sampl_vars: 1 2 3 \nc o opt sampl_vars: 1 2 3 \nc o ind size: 3 nvars: 3\nc o opt ind size: 0 ind size: 0 nvars: 3\nc o indep/optional/none distribution: IIII\nc o Sampling set size: 3\nc o Opt sampling set size: 3\nc o irred cls long/bin: 0/2\nc o total time so far: 0.00\nc o cls long irred                 0\nc o decisions K                    0         -- Kdec/s:     66.67    \nc o conflicts                      0            -- confl/s:    0.00     \nc o conflict cls (long/bin)        0/0\nc o rem lits triedK/rem lits remK  0         0         \nc o avg clsz/rem lits avg/finalavg 0.00      0.00      0.00     \nc o rdbs/low lbd/rem               0     0      0     \nc o looks/look-computes            0/0\nc o sat call/sat/unsat/confl/rst  0     0     0     0     0     \nc o buddy called                   0     \nc o buddy avg num bin/long cls     0.00  / 0.00 \nc o orig cubes/lit-r avg/exten avg 0     / 0.00  / 0.00 \nc o cubes orig/symm/final          0     / 0     / 0    \nc o comp sortsK/avg sz             0     / 1.00000000\nc o vivif: try/cls/clviv/litsravg  0         0         0         0.00      \nc o toplev subs runs/bins/long-cls 0         0         0         0         0         \nc o toplevel probes/fail/bprop     0         0         0         \nc o Mem used                       0.01 GB\nc o cache pollutions call/removed  0/0\nc o cache entries K                0\nc o MB cache                       4.000 0.000 \nc o cache K (lookup/ stores/ hits/ dels) 0      0      0      0       -- Klookup/s:  17.24    \nc o cache pollutions call/removed  0/0\nc o cache miss rate                1.000\nc o avg hit/store num vars 0.000 / 3.000\nc o \nc o [rst-cube] Num restarts: 0 orig cubes this rst: 1 total orig cubes: 1 total final cubes: 1 total so far: -18/5 this rst: -18/5\nc o Total time [Arjun+GANAK]: 0.00\nc s type wmc\ns SATISFIABLE\nc s neglog10-estimate 0.556302500767\nc s exact arb float 3.60000000000000000000000000000000000000000000000000E+00\nc o exact arb rational 18/5\n", None) 0 '''


def wmc(tool_invocation, wmc_res, wmc_file):
    try:  
        TIMEOUT = int(os.environ["TIMEOUT"])
    except KeyError: 
        print ("Please set the environment variable TIMEOUT")
        sys.exit(1)
    tool_invocation = tool_invocation.split(' ')
    tool_invocation.append(wmc_file)
    p = Popen(tool_invocation, stdout=PIPE)
    try: 
        result = p.communicate(timeout = TIMEOUT)
        result = str(result)    
        wmc_ans_str = re.findall(wmc_res,result)[0]
        wmc_ans = float(wmc_ans_str) 
        if abs(wmc_ans) < 1e-8:
            wmc_ans = 0
        return wmc_ans
    except:
        os.system("kill -9 " + str(p.pid))
        return "TIMEOUT"

def get_res(wmc_rf, wmc_res):
    wmc_ans_str = re.findall(wmc_rf, wmc_res)
    print(wmc_ans_str)
    # wmc_ans = float(wmc_ans_str)
    # print(wmc_ans)

cnfpath = "/Users/meij/Desktop/coding/cliffordtmc/experiment/test"
ganak = "ganak --maxcache=20000 --sbva=1 --tdminw=18 --sbvalitcut=6 --arjunoraclefindbins=4 --rdbclstarget=14000 "
gpmc = "/Users/meij/GPMC/bin/gpmc -mode=1"

gpmc_rf = r"exact.double.prec-sci.(.+?)\\nc s"
ganak_rf = r"exact.arb.float.(.*)"
# ganak_rf = r"c o"

onlyfiles = [f for f in os.listdir(cnfpath) if isfile(join(cnfpath, f))]

ganak_res = get_res(ganak_rf, ganak_res)

# for f in onlyfiles:
#     ganak_start = time.time()
#     ganak_res = wmc(ganak, ganak_rf, f)
#     ganak_end = time.time()
    
#     gpmc_start = time.time()
#     gpmc_res = wmc(gpmc, gpmc_rf, cnfpath + "/" + f)
#     gpmc_end = time.time()
    
#     assert abs(ganak_res - ganak_res) < 10e-8
    
#     print(f, "ganak", ganak_end - ganak_start, "gpmc", gpmc_end - gpmc_start)